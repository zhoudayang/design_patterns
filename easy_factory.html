<!DOCTYPE html><html><head><style type="text/css" id="wiz_custom_css"> html, body { font-size: 15px; } body { font-family: Helvetica, "Hiragino Sans GB", "Microsoft Yahei", SimSun, SimHei, arial, sans-serif; line-height: 1.6; padding: 0; margin: 20px 36px; margin: 1.33rem 2.4rem; } h1, h2, h3, h4, h5, h6 { margin: 20px 0 10px; margin: 1.33rem 0 0.667rem; padding: 0; font-weight: bold; } h1 { font-size: 21px; font-size: 1.4rem; } h2 { font-size: 20px; font-size: 1.33rem; } h3 { font-size: 18px; font-size: 1.2rem; } h4 { font-size: 17px; font-size: 1.13rem; } h5 { font-size: 15px; font-size: 1rem; } h6 { font-size: 15px; font-size: 1rem; color: #777777; margin: 1rem 0; } div, p, blockquote, ul, ol, dl, table, pre { margin: 10px 0; margin: 0.667rem 0; } ul, ol { padding-left: 32px; padding-left: 2.13rem; } blockquote { border-left: 4px solid #dddddd; padding: 0 12px; padding: 0 0.8rem; color: #aaa; } blockquote > :first-child { margin-top: 0; } blockquote > :last-child { margin-bottom: 0; } img { border: 0; max-width: 100%; height: auto !important; } table { border-collapse: collapse; border: 1px solid #bbbbbb; } td { border-collapse: collapse; border: 1px solid #bbbbbb; } @media screen and (max-width: 660px) { body { margin: 20px 18px; margin: 1.33rem 1.2rem; } } @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) { html, body { font-size: 17px; } body { line-height: 1.7; margin: 12px 15px; margin: 0.75rem 0.9375rem; color: #353c47; } h1 { font-size: 34px; font-size: 2.125rem; } h2 { font-size: 30px; font-size: 1.875rem; } h3 { font-size: 26px; font-size: 1.625rem; } h4 { font-size: 22px; font-size: 1.375rem; } h5 { font-size: 18px; font-size: 1.125rem; } h6 { color: inherit; } div, p, blockquote, ul, ol, dl, table, pre { margin: 0; } ul, ol { padding-left: 40px; padding-left: 2.5rem; } blockquote { border-left: 4px solid #c8d4e8; padding: 0 15px; padding: 0 0.9375rem; color: #b3c2dd; } } </style><style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked { /*text-decoration: line-through;*/ color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style></head><body><h4 style="box-sizing: border-box; font-family: &#39;Microsoft Yahei&#39;; font-weight: 500; line-height: 25px; color: rgb(85, 85, 85); margin: 20px 1px; font-size: 20px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; padding-top: 5px; padding-bottom: 5px; padding-left: 10px; white-space: normal; widows: 1; border-top-left-radius: 2px !important; border-top-right-radius: 2px !important; border-bottom-right-radius: 2px !important; border-bottom-left-radius: 2px !important;">问题描述</h4><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;">之前在公司做了一个windows 8平台的阅读器。首先，需要将电子书中的内容渲染到屏幕上，而电子书每一页都包含各种各样的内容，比如：图形、图像和文字等等；不同的内容，就是不同的对象；在将不同的内容渲染到屏幕上之前，就需要new操作，建立不同的对象，然后再在屏幕上进行描绘。这个时候，就需要进行很多new操作，new操作分布在代码的不同地方，管理起来很麻烦，而且也很乱，到后期扩展和维护的时候，有的时候，对象多的让开发人员不知道这个对象是干什么的，这就增加了难度；同时，new操作，都会有对应的异常处理，最后，就会发现，在代码中，new了一个对象，然后，就跟着一段异常处理代码，这时编码变的极其混乱和臃肿。那么怎么办？怎么办？此时，我们需要一个新的类，专门从事对象的建立和释放，之后，对象的各种操作，和这个类没有任何关系。这个专门建立对象的类，向外暴漏创建对象的接口，供外部调用。</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;">工厂模式有一种非常形象的描述，建立对象的类就如一个工厂，而需要被建立的对象就是一个个产品；在工厂中加工产品，使用产品的人，不用在乎产品是如何生产出来的。从软件开发的角度来说，这样就有效的降低了模块之间的耦合。</p><h4 style="box-sizing: border-box; font-family: &#39;Microsoft Yahei&#39;; font-weight: 500; line-height: 25px; color: rgb(85, 85, 85); margin: 20px 1px; font-size: 20px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; padding-top: 5px; padding-bottom: 5px; padding-left: 10px; white-space: normal; widows: 1; border-top-left-radius: 2px !important; border-top-right-radius: 2px !important; border-bottom-right-radius: 2px !important; border-bottom-left-radius: 2px !important;">UML类图</h4><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;">对于工厂模式，具体上可以分为三类：</p><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; margin-left: 50px; padding: 0px; list-style-position: initial; list-style-image: initial; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;" class=" list-paddingleft-2"><li style="">简单工厂模式；</li><li style="">工厂方法模式；</li><li style="">抽象工厂模式。</li></ol><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; word-wrap: break-word; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;">对于上面的三种工厂模式，从上到下逐步抽象，并且更具一般性。而这篇博文主要讲的是简单工厂模式，后两种会在之后的博文中接着总结。<br style="box-sizing: border-box;"/><img title="Simply Factory Design" alt="Simply Factory Design" width="400" height="300" border="1" data-tag="bdshare" style="box-sizing: border-box; vertical-align: middle; margin: 5px auto; display: block; float: none;" src="C++设计模式——简单工厂模式_files/8fd345ae-386e-4b60-8da2-6d222a779bb5.png" />ProductA、ProductB和ProductC继承自Product虚拟类，Show方法是不同产品的自描述；Factory依赖于ProductA、ProductB和ProductC，Factory根据不同的条件创建不同的Product对象。</p><h4 style="box-sizing: border-box; font-family: &#39;Microsoft Yahei&#39;; font-weight: 500; line-height: 25px; color: rgb(85, 85, 85); margin: 20px 1px; font-size: 20px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; padding-top: 5px; padding-bottom: 5px; padding-left: 10px; white-space: normal; widows: 1; border-top-left-radius: 2px !important; border-top-right-radius: 2px !important; border-bottom-right-radius: 2px !important; border-bottom-left-radius: 2px !important;">适用场合</h4><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 18px; margin-left: 50px; padding: 0px; list-style-position: initial; list-style-image: initial; color: rgb(85, 85, 85); font-family: &#39;Microsoft Yahei&#39;; line-height: 25px; white-space: normal; widows: 1;" class=" list-paddingleft-2"><li style="">在程序中，需要创建的对象很多，导致对象的new操作多且杂时，需要使用简单工厂模式；</li><li style="">由于对象的创建过程是我们不需要去关心的，而我们注重的是对象的实际操作，所以，我们需要分离对象的创建和操作两部分，如此，方便后期的程序扩展和维护。</li></ol><h4 style="box-sizing: border-box; font-family: &#39;Microsoft Yahei&#39;; font-weight: 500; line-height: 25px; color: rgb(85, 85, 85); margin: 20px 1px; font-size: 20px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; padding-top: 5px; padding-bottom: 5px; padding-left: 10px; white-space: normal; widows: 1; border-top-left-radius: 2px !important; border-top-right-radius: 2px !important; border-bottom-right-radius: 2px !important; border-bottom-left-radius: 2px !important;">代码实现</h4><pre class="prettyprint" style="box-sizing: border-box; overflow: hidden; font-family: &#39;courier new&#39;; font-size: 12px; padding: 10px 15px; margin-top: 20px; margin-bottom: 20px; line-height: 20px; color: rgb(248, 248, 212); word-break: break-all; word-wrap: break-word; border: none; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; widows: 1; background-color: rgb(39, 40, 34); background-position: initial initial; background-repeat: initial initial;"><code class="cpp" title="Simple Factory Pattern" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">/*
** FileName &nbsp; &nbsp; : SimpleFactoryPatternDemo
** Author &nbsp; &nbsp; &nbsp; : Jelly Young
** Date &nbsp; &nbsp; &nbsp; &nbsp; : 2013/11/17
** Description &nbsp;: More information, please go to http://www.jellythink.com
*/</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">#include</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="str" style="box-sizing: border-box; color: rgb(230, 219, 116);">&lt;iostream&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">#include</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="str" style="box-sizing: border-box; color: rgb(230, 219, 116);">&lt;vector&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">namespace</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> std</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">typedef</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">enum</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductTypeTag</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeC</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">PRODUCTTYPE</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">// Here is the product class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">virtual</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">void</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">()</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(174, 129, 255);">0</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">};</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductA</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">void</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">()</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		cout</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="str" style="box-sizing: border-box; color: rgb(230, 219, 116);">&quot;I&#39;m ProductA&quot;</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">endl</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">};</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductB</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">void</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">()</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		cout</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="str" style="box-sizing: border-box; color: rgb(230, 219, 116);">&quot;I&#39;m ProductB&quot;</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">endl</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">};</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductC</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">void</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">()</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		cout</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="str" style="box-sizing: border-box; color: rgb(230, 219, 116);">&quot;I&#39;m ProductC&quot;</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">&lt;&lt;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">endl</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">};</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">// Here is the Factory class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Factory</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">public</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">CreateProduct</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">PRODUCTTYPE type</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">switch</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">type</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">case</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
			</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">return</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">new</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

		</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">case</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
			</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">return</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">new</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

		</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">case</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeC</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
			</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">return</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">new</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductC</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

		</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">default</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
			</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">return</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">};</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">int</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> main</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">int</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> argc</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">char</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">argv</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">[])</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">{</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="com" style="box-sizing: border-box; color: rgb(147, 161, 161);">// First, create a factory object</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Factory</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">new</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Factory</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjA </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">CreateProduct</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">);</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">if</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjA </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">!=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		productObjA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjB </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">CreateProduct</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">);</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">if</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjB </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">!=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		productObjB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Product</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjC </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">CreateProduct</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">TypeC</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">);</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">if</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">productObjC </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">!=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
		productObjC</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">-&gt;</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">Show</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">();</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">delete</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	</span><span class="typ" style="box-sizing: border-box; color: rgb(166, 226, 46);">ProductFactory</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">delete</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> productObjA</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	productObjA </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">delete</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> productObjB</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	productObjB </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> &nbsp; &nbsp; &nbsp; &nbsp;

	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">delete</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> productObjC</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
	productObjC </span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> NULL</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">

	</span><span class="kwd" style="box-sizing: border-box; color: rgb(249, 38, 89);">return</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(174, 129, 255);">0</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(102, 217, 239);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);">}</span></code></pre><div><code class="cpp" title="Simple Factory Pattern" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &#39;Courier New&#39;, monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; white-space: pre-wrap; background-color: transparent;"><span class="pun" style="box-sizing: border-box; color: rgb(248, 248, 242);"><br/></span></code></div></body></html>